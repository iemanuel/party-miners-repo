manifestVersion: 1

id: party-miners-pool-party

category: bitcoin

name: Pool Party

version: "1.6.3"

tagline: Party Solo Pool - Multiple miners mining together as one solo miner

description: >-
  Party Solo Pool allows multiple small miners to mine together as one solo miner, increasing the chances of finding blocks. All rewards go to the core wallet initially.
  
  **Phase 1 Features:**
  - âœ… Connects to Bitcoin node via Umbrel dependency
  - âœ… Returns connection status and blockchain info
  - âœ… Health check endpoint (`/health`)
  - âœ… Bitcoin node status endpoint (`/api/status`)
  - âœ… Cookie file authentication support
  - âœ… Proper error handling and logging
  
  **Phase 2 Part A Features:**
  - âœ… Dashboard UI with real-time status updates
  - âœ… Connection status card (Bitcoin node status, block height, sync progress)
  - âœ… Stratum connection info card with connection instructions
  - âœ… Real-time log streaming via Server-Sent Events
  - âœ… API endpoint for stratum info (`/api/stratum-info`)
  - âœ… Configurable ports via environment variables
  
  **Phase 2 Part B Features (v1.3.0):**
  - âœ… Stratum server TCP socket server on port 3333
  - âœ… JSON line protocol parsing with buffering
  - âœ… mining.subscribe, mining.authorize, mining.configure, mining.extranonce.subscribe handlers
  - âœ… Session management with unique extranonce
  - âœ… Socket timeout handling and connection management
  - âœ… Stratum port exposed externally via stratum-proxy
  - âœ… Mining job management with block template processing
  - âœ… Coinbase transaction creation (BIP-34 + pool identifier)
  - âœ… Merkle tree building using merkle-lib (base pool pattern)
  - âœ… Job distribution to connected miners
  - âœ… Configuration dashboard with persistence
  - âœ… Config hot-reload (no restart needed)
  - âœ… Default placeholder wallet address support
  - âœ… Increased log capacity to 5000 entries
  
  **Next Steps:**
  - Share validation and difficulty calculation
  - Block submission when valid share found
  
  **Configuration:**
  - Bitcoin RPC credentials are auto-configured when Bitcoin app is installed
  - Supports cookie file authentication via `BITCOIN_RPC_COOKIEFILE`
  - Network: mainnet (configurable via dashboard or `NETWORK` env var)
  - Core wallet address: configurable via dashboard (required for mining jobs)
  - API port: 3334 (configurable via `APP_API_PORT`)
  - Stratum port: 3333 (configurable via `APP_STRATUM_PORT`)
  - Config changes apply immediately (hot-reload, no restart needed)
  
  **Coming Soon:**
  - Mining job management and block template creation
  - Share validation and difficulty calculation
  - Block submission when valid share found

developer: iemanuel

website: https://github.com/iemanuel/public-pool-party

dependencies:
  - bitcoin

repo: https://github.com/iemanuel/public-pool-party

support: https://github.com/iemanuel/public-pool-party/issues

port: 3334

gallery: []

path: "/"

releaseNotes: >-
  ğŸ¯ v1.5.9 - Hashrate Calculation Fix (10-Minute Window)
  
  **Fixed:**
  - ğŸ› Fixed inflated hashrate display (was showing 1000+ TH/s for small miners)
  - ğŸ› Hashrate now uses 10-minute rolling time window (matches old base-pool)
  - ğŸ› Accurate real-time hashrate based on recent mining performance
  - ğŸ› Automatic pruning of shares older than 10 minutes
  
  **Technical Changes:**
  - âš™ï¸ ClientStatistics now maintains separate hashrate cache (10-minute window)
  - âš™ï¸ Formula: (difficultySum * 2^32) / timeInSeconds over 10-minute window
  - âš™ï¸ Shares older than 10 minutes automatically filtered out
  - âš™ï¸ Matches old base-pool implementation exactly
  
  **Previous v1.5.8 Features:**
  - ğŸ› Fixed "Invalid address" error when miners send authorization in single-parameter format
  - ğŸ› Now supports both authorization formats: "address.workername" and ["address", "workername"]
  - ğŸ› Properly parses worker names from combined address.worker format
  - ğŸ› Enhanced miner compatibility with various mining software
  
  **Previous v1.5.1 Features:**
  - âœ¨ Live hashrate display in dashboard (updates every 60s from actual mining data)
  - âœ¨ Average hashrate cards: 5-minute, 15-minute, and 30-minute rolling averages
  - âœ¨ Per-miner average statistics (Current, 5M AVG, 15M AVG, 30M AVG)
  - âœ¨ Miner status tracking (Active/Inactive based on connection state)
  - âœ¨ Real-time miner statistics: hashrate, shares, difficulty, last seen
  
  **Fixed:**
  - ğŸ› Dashboard now shows current hashrate (was only logging, not saving to DB)
  - ğŸ› Miner hashrate updates every 60 seconds in database
  - ğŸ› Active/inactive status properly tracked on connect/disconnect
  - ğŸ› Pool statistics endpoint for dashboard metrics
  
  **API Enhancements:**
  - ğŸ“Š New endpoint: GET /api/pool/stats (returns average hashrates and pool stats)
  - ğŸ“Š Enhanced: GET /api/miners (now includes live hashrate from database)
  - ğŸ“Š Auto-refresh: Dashboard polls every 5-10 seconds for live updates
  
  **Technical Improvements:**
  - âš™ï¸ ShareService.updateMinerHashrate() saves calculated hashrate to DB
  - âš™ï¸ ShareService.updateMinerStatus() tracks miner connection state
  - âš™ï¸ ShareService.getAverageHashrate() calculates rolling averages
  - âš™ï¸ ShareService.getPoolStats() provides complete pool statistics
  - âš™ï¸ Async logStatistics() now persists data to database
  
  **Dashboard UI:**
  - ğŸ¨ Three prominent average hashrate cards (5M/15M/30M AVG)
  - ğŸ¨ Miners table shows live hashrate, shares, and status
  - ğŸ¨ Auto-formatted display (TH/s, GH/s, MH/s, etc.)
  - ğŸ¨ Blue-colored hashrate values for visual clarity
  
  **Previous v1.5.0 Features (included):**
  - âœ… Database connection pooling with retry logic
  - âœ… PostgreSQL keepalive and idle connection management
  - âœ… Automatic reconnection after transient network issues
  - âœ… Graceful shutdown handling (SIGTERM/SIGINT)
  - âœ… Database health check endpoint (/health/db)
  - âœ… Docker healthcheck with 60s startup grace period
  - âœ… Configuration form in dashboard
  - âœ… Full-width responsive layout

defaultPassword: ""

submitter: iemanuel

submission: https://github.com/iemanuel/public-pool-party

icon: https://raw.githubusercontent.com/iemanuel/party-miners-repo/main/party-miners-pool-party/icon.svg
